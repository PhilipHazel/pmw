@ Sample for Computing in Musicology 1993
@ Philip Hazel, June 1993

draw blip
  linegapx linegapy moveto
  0 linegapx 3 mul lineto
  linegapx neg linegapy neg lineto
  0.3 setlinewidth stroke
enddraw  

draw ped
  0 0 moveto "\**163\ "show
enddraw  

draw flutter
  linegapx neg 1 sub -3.1 moveto "\mf\`````````````````````````" show
  linegapx neg 4 add 3 moveto "\it\(flutter)"/s3 show
enddraw  

draw star
  linegapx neg 3 add 0 moveto "\**36\"/s5 show
enddraw  

draw pog
  1 stemtop 10 sub moveto 6 4 rlineto
  0.2 setlinewidth stroke
enddraw  

draw three
  0 -3 moveto "\it\3"/s6/c show
enddraw  

*define sa  slur/a0/rr12
*define sa2 slur/a0/lr3/rr12
*define sb  slur/b0/rr16/lr4

*define b1 [linegap/=L/draw blip]
*define b2 [linegap/=L/w2.5/draw blip]
*define b3 [linegap/=L/w100/r4/draw flutter]

*define star [linegap/=L/draw star]

*define va8 "\it\8va-"/ol/u17/l8/s3/" -| \**159\"

Heading 16 "|#2. David Chaitkin" 18
Heading 16 "|Prelude" 70

linelength 480

justify top left right
startnotime
unfinished

startlinespacing 2 0 2
stavespacing 1/0 2/50
systemgap 100
barnumbers line 9 italic
bar 27
bracket
brace 1-3
bracestyle 1

textsizes 10 12 7 9 7 8
clefsize 0.8
tripletfont 8 italic



[stave 1 treble 1 stems up]
[slur/a/ll20/ru8] (d''\.!\d''')[&sa/u1 &sa/u14](#f'\.!\#f'') [es es es] Q | @27
{/a r\l16\ [slur/a/u8/ci4 space 4] (#F'\!.\#F'') } (d''\!.\d''')
[&sa/u1 &sa/u14](#f'\!.\#f'') [es es es] | @28
Q [space 2] r. [move -5] "\it\s\bi\ff"/s2/b10/l8
"\it\8va - - \**159\"/a/s3 [slur/b/lu2/ru12] [draw pog] (a'-\g\a''-\g\) 
[space 4 &sa/u14] d''-\sd\ [es es] 
[space 2] | @29

Rr. [&sa2 &sb/d4] "\it\s\bi\f"/b/s2/u4(d-\sd >/u2\e'-) [es es space 2] | @30
[stems auto]
r-; "\it\s\bi\f"/b/s2/l4 [slur/b/ru8] &va8 
[move -4] [draw pog] (a'-\g/\a''-\g\) [xslur/a/ru2/rl1/lu1/ci1/cll2] d'' [es &sa/u2] 
"#"/ol/r8 e'- [es es] 
"\bi\allarg."/a8 R | @31
R! | @32
"\bi\p"/s2/a/u6
"\bf\A tempo"/a/d2
{/a r "\it\cantabile"/a/s4/u4/r8 [slur/a/lu16/ll8/ru10/ci2] #ce} {/b a#f'g'} | @33
[line/a/u4 linegap/h/w6/draw three] 
{/a/x e'\su\g#f} [es] {/a eag} [es] [reset] C+ | @34
[endstave]


[stave 2 treble 1 stems down rlevel -4]
r. q- (g.d'.) q- | @27
[&sb/u2 &sb/u10] (gd') [es es] rr.q- | @28
(g.d'.) q-Q | @29
[endstave] 


[stave 3 treble 1]
Qqq-r-\l-16\ [reset]
[line/=L/b/h/ol/ll40/d5/2/d4]
q. [slur/a/ll8/ru4/rl2/co30/clu40/cll10/crl15] (#f-b-) r 
[bass 0] </a/u4/r6 "\bi\pp"/b14/s2/l16 
&b1 [&sb/u2 &sb/d5] (e`-\.! sd\b`-); [es es] 
[space 4 treble 1] [&sa/d7 &sa/d11] (#f-b-) [es es es] [space 4] </r2 | @27

Qq. [slur/a/ll8/ru4/rl2/co30/clu40/crl10] (#f-b-) | @28

qq-r-\l-16\ [reset]
"\it\m\bi\p"/a/s2/u10/l4 >/a/r15/u5
"\it\(\bi\pp\it\)"/b/r4/d8/s2
r [bass 0] &b1 [&sb/d2 &sb/d10] (c`-\!. sd\g`-); [es es]
[treble 1] [&sa/d11 &sa/d6] (#f-b-) >/l12 [es es es] r. 
[slur/b/lu2/ru8] [draw pog] (d'-\g/\d''-\g\) [&sa/u4] #f'- [es es] | @29

r- [bass 0] "\it\m\bi\f"/s2/a/e/l4 b._b- &b2 c' &b1 ($b`-c'-) 
[reset] Qq. [notes off] ($b`-\ar\e''-\c\) [notes on] | @30

r- [treble 1 slur/b/lu2/ru8] [draw pog] (d'-\g/\d''-\g\)%f' [es slur/a/ru12] &b2 g'-_;g'-
"\it\dim.-"/ol/u14/"   -" c' &b2 f-_ | @31

f-ed-_{/a &b3 d "#"/ol/l4 "\bi\p"/a/u15 >/a/u13/r10 ga`} [es] [bass 0] >/d16/r16 | @32

&star B+ [el] [reset] 
{/b/u4 r\l-8\ [line/=L/ol/h/b/d8.5 linegap/w36/l4/draw ped] G`\sd sl-3\}_/bG`\sd sl-3\ | @33

[notes off] ($a`\ar\e''\c\) [notes on reset]
(A`+$B+) [reset]
&b1 {/x q &b2 q &b2 q} &star Q [el] |
[endstave]
